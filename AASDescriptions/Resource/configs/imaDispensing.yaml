imaDispensingSystemAAS:
    idShort: imaDispensingSystemAAS
    id: 'https://smartproductionlab.aau.dk/aas/imaDispensingSystem'
    globalAssetId: 'https://smartproductionlab.aau.dk/assets/MzFiZTU1YzAtODc0ZC00YTRmLTkzYzItMDQ5ZDZjZDdhZTYw'
    derivedFrom: 'https://smartproductionlab.aau.dk/aas/templates/resource'
    assetType: 'https://smartproductionlab.aau.dk/Resource/CPPM/DispensingSystem/imaDispensingSystem'
    serialNumber: 'IMA-DS-2024-001'
    location: 'InnoLab, Nybrovej, AAU'
    AssetInterfacesDescription:
        InterfaceMQTT:
            Title: 'IMA Dispensing System'
            EndpointMetadata:
                base: 'mqtt://192.168.0.104:1883/NN/Nybrovej/InnoLab/Dispensing'
                contentType: 'application/json'
            InteractionMetadata:
                actions:
                    - dispensing:
                        key: 'dispensing'
                        title: 'Dispensing'
                        synchronous: 'true'
                        input: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/command.schema.json'
                        output: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/commandResponse.schema.json'
                        forms:
                            contentType: 'application/json'
                            href: '/CMD/Dispensing'
                            op: 'invokeAction'
                            mqv_retain: 'false'
                            mqv_controlPacket: subscribe
                            mqv_qos: '2'
                            response:
                                contentType: 'application/json'
                                href: '/DATA/Dispensing'
                                mqv_controlPacket: 'publish'
                    - halt:
                        key: 'halt'
                        title: 'halt'
                        synchronous: 'true'
                        input: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/command.schema.json'
                        forms:
                            contentType: 'application/json'
                            href: '/CMD/Halt'
                            op: 'invokeAction'
                            mqv_retain: 'false'
                            mqv_controlPacket: subscribe
                            mqv_qos: '2'
                            response:
                                contentType: 'application/json'
                                href: '/DATA/Halt'
                                mqv_controlPacket: 'publish'                                                
                    - occupy:
                        key: 'occupy'
                        title: 'occupy'
                        synchronous: 'true'
                        input: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/command.schema.json'
                        output: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/commandResponse.schema.json'
                        forms:
                            contentType: 'application/json'
                            href: '/CMD/Occupy'
                            op: 'invokeAction'
                            mqv_retain: 'false'
                            mqv_controlPacket: subscribe
                            mqv_qos: '2'
                            response:
                                contentType: 'application/json'
                                href: '/DATA/Occupy'
                                mqv_controlPacket: 'publish'
                    - release:
                        key: 'release'
                        title: 'release'
                        synchronous: 'true'
                        input: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/command.schema.json'
                        output: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/commandResponse.schema.json'
                        forms:
                            contentType: 'application/json'
                            href: '/CMD/Release'
                            op: 'invokeAction'
                            mqv_retain: 'false'
                            mqv_controlPacket: subscribe
                            mqv_qos: '2'
                            response:
                                contentType: 'application/json'
                                href: '/DATA/Release'
                                mqv_controlPacket: 'publish'
                properties:
                    - PackMLState:
                        key: 'PackMLState'
                        title: 'PackMLState'
                        output: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/state.schema.json'
                        forms:
                            contentType: 'application/json'
                            href: '/DATA/State'
                            mqv_retain: 'false'
                            mqv_controlPacket: publish
                            mqv_qos: '0'                                
                    - OccupationState:
                            key: 'OccupationState'
                            title: 'OccupationState'
                            output: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/stationOccupation.schema.json'
                            forms:
                                contentType: 'application/json'
                                href: '/DATA/Occupation'
                                mqv_retain: 'false'
                                mqv_controlPacket: publish
                                mqv_qos: '0'
                    - Weight:
                            key: 'Weight'
                            title: 'Weight'
                            output: 'https://aausmartproductionlab.github.io/AP2030-UNS/MQTTSchemas/weight.schema.json'
                            forms:
                                contentType: 'application/json'
                                href: '/DATA/Weight'
                                mqv_retain: 'false'
                                mqv_controlPacket: publish
                                mqv_qos: '0'
    Variables:
        - PackMLState:
            semanticId: 'https://www.omac.org/packml/state'
            Value: 'Idle'   
            InterfaceReference: 'PackMLState'
        - OccupationState:
            semanticId: ''
            State: 'Available'
            Queue: '[]'   
            InterfaceReference: 'OccupationState'
        - Weight:
            semanticId: ''
            Value: 0.0
            InterfaceReference: 'Weight'
    Parameters:
    HierarchicalStructures:
        Archetype: 'OneUp'
        IsPartOf:
            - aauFillingLine:
                globalAssetId: 'https://smartproductionlab.aau.dk/assets/MWQ2ODY5ZDEtZTQ3Yy00NWU4LTlmYTAtNTI3YjVlMDk4MWFi'
    
    # Capabilities:
    #     - dispensing:
    #         realizedBy: "dispensing"
    
    # Skills:
        # dispensing:
        #     description: "dispensing function for pharmaceutical primary packaging"
        #     semantic_id: "https://smartproductionlab.aau.dk/dispensing"
        #     input_variable:
        #         Uuid: "string"
        #     output_variable:
        #         State: "string"
        #     in_ouput_variable:
        #     interface: "dispensing"
        # Occupy:
        #     description: "dispensing function for pharmaceutical primary packaging"
        #     semantic_id: "https://smartproductionlab.aau.dk/Occupy"
        #     input_variable:
        #         Uuid: "string"
        #     output_variable:
        #         State: "string"
        #     in_ouput_variable:
        #     interface: "occupy"
        # Release:
        #     description: "dispensing function for pharmaceutical primary packaging"
        #     semantic_id: "https://smartproductionlab.aau.dk/Release"
        #     input_variable:
        #         Uuid: "string"
        #     output_variable:
        #         State: "string"
        #     in_ouput_variable:
        #     interface: "release"
        # Halt:
        #     description: "dispensing function for pharmaceutical primary packaging"
        #     semantic_id: "https://smartproductionlab.aau.dk/Halt"
        #     input_variable:
        #         Uuid: "string"
        #     output_variable:
        #         State: "string"
        #     in_ouput_variable:
        #     interface: "halt"