<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<hivemq xsi:schemaLocation="config.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <mqtt-listeners>
        <tcp-listener>
            <port>1883</port>
            <bind-address>0.0.0.0</bind-address>
        </tcp-listener>
    </mqtt-listeners>
    <mqtt-sn-listeners>
        <udp-listener>
            <port>2442</port>
            <bind-address>0.0.0.0</bind-address>
        </udp-listener>
    </mqtt-sn-listeners>
    <mqtt>
        <queued-messages>
            <max-queue-size>1000</max-queue-size>
            <strategy>discard</strategy>
        </queued-messages>
        <retained-messages>
            <enabled>true</enabled>
        </retained-messages>
        <wildcard-subscriptions>
            <enabled>true</enabled>
        </wildcard-subscriptions>
        <quality-of-service>
            <max-qos>2</max-qos>
        </quality-of-service>
        <topic-alias>
            <enabled>true</enabled>
            <max-per-client>5</max-per-client>
        </topic-alias>
        <message-expiry>
            <max-interval>4294967296</max-interval>
        </message-expiry>
        <session-expiry>
            <max-interval>4294967295</max-interval>
        </session-expiry>
        <subscription-identifier>
            <enabled>true</enabled>
        </subscription-identifier>
        <shared-subscriptions>
            <enabled>true</enabled>
        </shared-subscriptions>
        <keep-alive>
            <max-keep-alive>65535</max-keep-alive>
            <allow-unlimited>true</allow-unlimited>
        </keep-alive>
        <packets>
            <max-packet-size>268435460</max-packet-size>
        </packets>
        <receive-maximum>
            <server-receive-maximum>10</server-receive-maximum>
        </receive-maximum>
    </mqtt>
    <mqtt-sn>
        <predefined-topics/>
        <allow-empty-client-identifier>
            <enabled>false</enabled>
        </allow-empty-client-identifier>
        <discovery>
            <enabled>false</enabled>
            <broadcast-addresses/>
            <discovery-interval-seconds>30</discovery-interval-seconds>
        </discovery>
        <allow-anonymous-publish-minus-one>
            <enabled>false</enabled>
        </allow-anonymous-publish-minus-one>
        <allow-waking-ping-session-hijack>
            <enabled>false</enabled>
        </allow-waking-ping-session-hijack>
        <topic-registrations-held-during-sleep>
            <enabled>false</enabled>
        </topic-registrations-held-during-sleep>
        <max-client-identifier-length>23</max-client-identifier-length>
        <gateway-id>1</gateway-id>
    </mqtt-sn>
    <restrictions>
        <max-connections>-1</max-connections>
        <max-client-id-length>65535</max-client-id-length>
        <max-topic-length>65535</max-topic-length>
        <no-connect-idle-timeout>10000</no-connect-idle-timeout>
        <incoming-bandwidth-throttling>0</incoming-bandwidth-throttling>
    </restrictions>
    <security>
        <payload-format-validation>
            <enabled>false</enabled>
        </payload-format-validation>
        <utf8-validation>
            <enabled>true</enabled>
        </utf8-validation>
        <allow-empty-client-id>
            <enabled>true</enabled>
        </allow-empty-client-id>
        <allow-request-problem-information>
            <enabled>true</enabled>
        </allow-request-problem-information>
    </security>
    <persistence>
        <mode>in-memory</mode>
    </persistence>
    <mqtt-bridges>
        <mqtt-bridge>
            <id>UNS-Broker</id>
            <remote-broker>
                <port>1883</port>
                <host>172.20.66.205</host>
                <mqtt>
                    <client-id></client-id>
                    <clean-start>true</clean-start>
                    <session-expiry>3600</session-expiry>
                    <keep-alive>60</keep-alive>
                </mqtt>
                <authentication>
                    <mqtt-simple-authentication>
                        <username></username>
                        <password></password>
                    </mqtt-simple-authentication>
                </authentication>
            </remote-broker>
            <remote-subscriptions/>
            <forwarded-topics>
                <forwarded-topic>
                    <filters>
                        <mqtt-topic-filter>#</mqtt-topic-filter>
                    </filters>
                    <max-qos>0</max-qos>
                    <preserve-retain>false</preserve-retain>
                    <destination>{#}</destination>
                    <custom-user-properties/>
                    <excludes/>
                </forwarded-topic>
            </forwarded-topics>
            <loop-prevention>
                <enabled>false</enabled>
                <hop-count-limit>1</hop-count-limit>
            </loop-prevention>
            <persist>true</persist>
        </mqtt-bridge>
    </mqtt-bridges>
    <admin-api>
        <enabled>true</enabled>
        <listeners>
            <http-listener>
                <port>8080</port>
                <bind-address>0.0.0.0</bind-address>
            </http-listener>
        </listeners>
        <generated-tokens>
            <keySize>2048</keySize>
            <issuer>HiveMQ-Edge</issuer>
            <audience>HiveMQ-Edge-Api</audience>
            <expiryTimeMinutes>30</expiryTimeMinutes>
            <tokenEarlyEpochThresholdMinutes>2</tokenEarlyEpochThresholdMinutes>
        </generated-tokens>
        <users/>
    </admin-api>
    <uns>
        <isa95>
            <enabled>true</enabled>
            <prefix-all-topics>true</prefix-all-topics>
            <enterprise>AAU</enterprise>
            <site>MP</site>
            <area>Fib14</area>
            <production-line>Smartlab</production-line>
            <work-cell>FestoLine</work-cell>
        </isa95>
    </uns>
    <dynamic-configuration>
        <allow-configuration-export>false</allow-configuration-export>
        <allow-mutable-configuration>true</allow-mutable-configuration>
    </dynamic-configuration>
    <usage-tracking>
        <enabled>true</enabled>
    </usage-tracking>
    <protocol-adapters>
        <protocol-adapter>
            <adapterId>STPLC14</adapterId>
            <protocolId>opcua</protocolId>
            <config>
                <uri>opc.tcp://172.20.4.1:4840/</uri>
                <overrideUri>true</overrideUri>
                <tls>
                    <enabled>false</enabled>
                </tls>
                <opcuaToMqtt>
                    <publishingInterval>100</publishingInterval>
                    <serverQueueSize>1</serverQueueSize>
                </opcuaToMqtt>
                <security>
                    <policy>NONE</policy>
                </security>
            </config>
            <tags>
                <tag>
                    <name>STPLC14/CarrierAvailable</name>
                    <description>This tag is about sensor data</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.cpfssStopper.xCarrierAvailable</node>
                    </definition>
                </tag>
                <tag>
                    <name>STPLC14/CarrierID</name>
                    <description>This tag is about carrier ID</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.stRfidData.uiCarrierID</node>
                    </definition>
                </tag>
            </tags>
            <southboundMappings/>
            <northboundMappings>
                <northboundMapping>
                    <topic>STPLC14/CarrierAvailable</topic>
                    <tagName>STPLC14/CarrierAvailable</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
                <northboundMapping>
                    <topic>STPLC14/CarrierID</topic>
                    <tagName>STPLC14/CarrierID</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
            </northboundMappings>
        </protocol-adapter>

        <protocol-adapter>
            <adapterId>STPLC11</adapterId>
            <protocolId>opcua</protocolId>
            <config>
                <uri>opc.tcp://172.20.11.1:4840/</uri>
                <overrideUri>true</overrideUri>
                <tls>
                    <enabled>false</enabled>
                </tls>
                <opcuaToMqtt>
                    <publishingInterval>100</publishingInterval>
                    <serverQueueSize>1</serverQueueSize>
                </opcuaToMqtt>
                <security>
                    <policy>NONE</policy>
                </security>
            </config>
            <tags>
                <tag>
                    <name>STPLC11/CarrierAvailable</name>
                    <description>This tag is about sensor data</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.cpfssStopper.xCarrierAvailable</node>
                    </definition>
                </tag>
                <tag>
                    <name>STPLC11/CarrierID</name>
                    <description>This tag is about carrier ID</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.stRfidData.uiCarrierID</node>
                    </definition>
                </tag>
            </tags>
            <southboundMappings/>
            <northboundMappings>
                <northboundMapping>
                    <topic>STPLC11/CarrierAvailable</topic>
                    <tagName>STPLC11/CarrierAvailable</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
                <northboundMapping>
                    <topic>STPLC11/CarrierID</topic>
                    <tagName>STPLC11/CarrierID</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
            </northboundMappings>
        </protocol-adapter>

        <protocol-adapter>
            <adapterId>STPLC10</adapterId>
            <protocolId>opcua</protocolId>
            <config>
                <uri>opc.tcp://172.20.3.1:4840/</uri>
                <overrideUri>true</overrideUri>
                <tls>
                    <enabled>false</enabled>
                </tls>
                <opcuaToMqtt>
                    <publishingInterval>100</publishingInterval>
                    <serverQueueSize>1</serverQueueSize>
                </opcuaToMqtt>
                <security>
                    <policy>NONE</policy>
                </security>
            </config>
            <tags>
                <tag>
                    <name>STPLC10/CarrierAvailable</name>
                    <description>This tag is about sensor data</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.cpfssStopper.xCarrierAvailable</node>
                    </definition>
                </tag>
                <tag>
                    <name>STPLC10/CarrierID</name>
                    <description>This tag is about carrier ID</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.stRfidData.uiCarrierID</node>
                    </definition>
                </tag>
            </tags>
            <southboundMappings/>
            <northboundMappings>
                <northboundMapping>
                    <topic>STPLC10/CarrierAvailable</topic>
                    <tagName>STPLC10/CarrierAvailable</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
                <northboundMapping>
                    <topic>STPLC10/CarrierID</topic>
                    <tagName>STPLC10/CarrierID</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
            </northboundMappings>
        </protocol-adapter>

        <protocol-adapter>
            <adapterId>STPLC12</adapterId>
            <protocolId>opcua</protocolId>
            <config>
                <uri>opc.tcp://:4840/</uri>
                <overrideUri>true</overrideUri>
                <tls>
                    <enabled>false</enabled>
                </tls>
                <opcuaToMqtt>
                    <publishingInterval>100</publishingInterval>
                    <serverQueueSize>1</serverQueueSize>
                </opcuaToMqtt>
                <security>
                    <policy>NONE</policy>
                </security>
            </config>
            <tags>
                <tag>
                    <name>STPLC12/CarrierAvailable</name>
                    <description>This tag is about sensor data</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.cpfssStopper.xCarrierAvailable</node>
                    </definition>
                </tag>
                <tag>
                    <name>STPLC12/CarrierID</name>
                    <description>This tag is about carrier ID</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.stRfidData.uiCarrierID</node>
                    </definition>
                </tag>
            </tags>
            <southboundMappings/>
            <northboundMappings>
                <northboundMapping>
                    <topic>STPLC12/CarrierAvailable</topic>
                    <tagName>STPLC12/CarrierAvailable</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
                <northboundMapping>
                    <topic>STPLC12/CarrierID</topic>
                    <tagName>STPLC12/CarrierID</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
            </northboundMappings>
        </protocol-adapter>
        <protocol-adapter>
            <adapterId>STPLC13</adapterId>
            <protocolId>opcua</protocolId>
            <config>
                <uri>opc.tcp://172.20.5.1:4840/</uri>
                <overrideUri>true</overrideUri>
                <tls>
                    <enabled>false</enabled>
                </tls>
                <opcuaToMqtt>
                    <publishingInterval>1000</publishingInterval>
                    <serverQueueSize>1</serverQueueSize>
                </opcuaToMqtt>
                <security>
                    <policy>NONE</policy>
                </security>
            </config>
            <tags>
                <tag>
                    <name>STPLC13/CarrierAvailable</name>
                    <description>This tag is about sensor data</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.cpfssStopper.xCarrierAvailable</node>
                    </definition>
                </tag>
                <tag>
                    <name>STPLC13/CarrierID</name>
                    <description>This tag is about carrier ID</description>
                    <definition>
                        <node>ns=2;s=|var|CECC-LK.Application.FBs.stpStopper1.stpStopper.stRfidData.uiCarrierID</node>
                    </definition>
                </tag>
            </tags>
            <southboundMappings/>
            <northboundMappings>
                <northboundMapping>
                    <topic>STPLC13/CarrierAvailable</topic>
                    <tagName>STPLC13/CarrierAvailable</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
                <northboundMapping>
                    <topic>STPLC13/CarrierID</topic>
                    <tagName>STPLC13/CarrierID</tagName>
                    <maxQos>1</maxQos>
                    <messageHandlingOptions>MQTTMessagePerTag</messageHandlingOptions>
                    <includeTagNames>false</includeTagNames>
                    <includeTimestamp>true</includeTimestamp>
                    <mqttUserProperties/>
                    <messageExpiryInterval>9223372036854775807</messageExpiryInterval>
                </northboundMapping>
            </northboundMappings>
        </protocol-adapter>
    </protocol-adapters>
    <modules/>
    <internal/>
</hivemq>
