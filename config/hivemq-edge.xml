<?xml version="1.0"?>
<hivemq>
    <mqtt-listeners>
        <tcp-listener>
            <port>1883</port>
            <bind-address>0.0.0.0</bind-address>
        </tcp-listener>
    </mqtt-listeners>

    <mqtt-sn-listeners>
        <udp-listener>
            <port>2442</port>
            <bind-address>0.0.0.0</bind-address>
        </udp-listener>
    </mqtt-sn-listeners>

    <admin-api>
        <enabled>true</enabled>
        <listeners>
            <http-listener>
                <bind-address>0.0.0.0</bind-address>
                <port>8080</port>
            </http-listener>
        </listeners>
    </admin-api>

    <protocol-adapters>
        <protocol-adapter>
            <adapterId>simulation-server-2</adapterId>
            <protocolId>opcua</protocolId>

            <config>
                <uri>opc.tcp://192.168.0.108:4840/freeopcua/server</uri>
                <opcuaToMqtt>
                </opcuaToMqtt>
            </config>

            <northboundMappings>
                <northboundMapping>
                    <tagName>temperature/for/machine_1</tagName>
                    <topic>machine/1/temperature</topic>
                </northboundMapping>
            </northboundMappings>

            </southboundMappings>

            <tags>
                <tag>
                    <name>temperature/for/machine_1</name>
                    <description>This tag is about sensor data</description>
                    <definition>
                        <node>ns=2;i=1</node>
                    </definition>
                </tag>
            </tags>
            
        </protocol-adapter>
    </protocol-adapters>
</hivemq>